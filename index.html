<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Символьное вычисление производной</title>
    <script src="tree.js"></script>
    <script src="simplify.js"></script>
    <script src="derivative.js"></script>
    <script src="main.js"></script>
</head>
<body>

<h1>Символьное вычисление производной</h1>

<h2>Поддерживаемые символы: <button id="supportedSymbolsButton" onclick="showSupportedSymbols()">v</button></h2>
<table id="supportedSymbols"  style="display: none">
    <tr>
        <th>Обозначение</th>
        <th>Описание</th>
    </tr>
    <tr>
        <td>.</td>
        <td>Десятичный разделитель</td>
    </tr>
    <tr>
        <td>,</td>
        <td>Разделитель аргументов функции</td>
    </tr>
    <tr>
        <td>+</td>
        <td>Сложение</td>
    </tr>
    <tr>
        <td>-</td>
        <td>Вычитание</td>
    </tr>
    <tr>
        <td>-</td>
        <td>Унарный минус</td>
    </tr>
    <tr>
        <td>*</td>
        <td>Умножение</td>
    </tr>
    <tr>
        <td>/</td>
        <td>Деление</td>
    </tr>
    <tr>
        <td>^</td>
        <td>Возведение в степень</td>
    </tr>
    <tr>
        <td>e</td>
        <td>Константа, основание натурального логарифма</td>
    </tr>
    <tr>
        <td>(</td>
        <td>Открывающая скобка</td>
    </tr>
    <tr>
        <td>)</td>
        <td>Закрывающая скобка</td>
    </tr>
    <tr>
        <td>sqrt</td>
        <td>Извлечение квадратного корня: sqrt(x)</td>
    </tr>
    <tr>
        <td>rt</td>
        <td>Извлечение квадратного корня заданной степени: rt(n, x)</td>
    </tr>
    <tr>
        <td>sin</td>
        <td>Синус: sin(x)</td>
    </tr>
    <tr>
        <td>cos</td>
        <td>Косинус: cos(x)</td>
    </tr>
    <tr>
        <td>tg</td>
        <td>Тангенс: tg(x)</td>
    </tr>
    <tr>
        <td>ctg</td>
        <td>Котангенс: ctg(x)</td>
    </tr>
    <tr>
        <td>ln</td>
        <td>Натуральный логарифм: ln(x)</td>
    </tr>
    <tr>
        <td>log</td>
        <td>Логарифм по заданномy основанию: log(n, x)</td>
    </tr>

</table>

<h2>Примеры:</h2>
<ul>
    <li>
        <button onclick="loadExample('example1')">Вставить</button>
        f(x) = <span id="example1">-cos(x) + sin(x) - tg(x) + ctg(x)</span>
    </li>
    <li>
        <button onclick="loadExample('example2')">Вставить</button>
        f(x) = <span id="example2">x^2 * ln( x + 1 )</span>
    </li>
    <li>
        <button onclick="loadExample('example3')">Вставить</button>
        f(x) = <span id="example3">(x+1)/e^(a+x)</span>
    </li>
    <li>
        <button onclick="loadExample('example4')">Вставить</button>
        f(x) = <span id="example4">a^(2*x)</span>
    </li>
    <li>
        <button onclick="loadExample('example5')">Вставить</button>
        f(x) = <span id="example5">log(2*x, x^2)</span>
    </li>
    <li>
        <button onclick="loadExample('example6')">Вставить</button>
        f(x) = <span id="example6">rt(a, (x+1))</span>
    </li>
</ul>

<div>
    f(x) = <input type="text" id="function"/>
    <button onclick="calculateDerivative()">Вычислить df(x)/dx</button>
</div>

<div id="errorDiv" style="display: none">
    <h2>Что-то пошло не так:</h2>
    <p id="errorText"></p>
</div>

<div id="difDiv" style="display: none">
    <h2>Производная:</h2>
    df(x)/dx = <span id="result"></span>

    <h2>Дерево синтaксического разбора функции: <button id="originalTreeButton" onclick="showOriginalTree()">v</button></h2>
    <div id="originalTreeDiv" style="display: none">
        <canvas id="originalTreeCanvas">
            Your browser does not support the canvas element.
        </canvas>
    </div>

    <h2>Дерево синтaксического разбора производной: <button id="derivativeTreeButton" onclick="showDerivativeTree()">v</button></h2>
    <div id="derivativeTreeDiv" style="display: none">
        <canvas id="derivativeTreeCanvas">
            Your browser does not support the canvas element.
        </canvas>
    </div>
</div>

</body>
</html>